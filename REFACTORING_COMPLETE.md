# í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ ë¦¬íŒ©í† ë§ ì™„ë£Œ

## ğŸ¯ ëª©í‘œ ë‹¬ì„±
ì œê³µëœ ì„¤ê³„ ë¬¸ì„œì— ë”°ë¼ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ë¦¬íŒ©í† ë§ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.

## ğŸ“ êµ¬í˜„ëœ êµ¬ì¡°
```
python/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ context.py                      # SystemState ë°ì´í„° í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ context_persistence_service.py  # ìƒíƒœ ì €ì¥/ë³µì› ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ event_bus.py                   # ì´ë²¤íŠ¸ ë°œí–‰-êµ¬ë… ì‹œìŠ¤í…œ
â”œâ”€â”€ project_management/
â”‚   â”œâ”€â”€ events.py                      # ì´ë²¤íŠ¸ ì •ì˜ (Task, Plan, Phase)
â”‚   â””â”€â”€ managers/
â”‚       â”œâ”€â”€ task_manager.py            # Task ë„ë©”ì¸ ê´€ë¦¬
â”‚       â”œâ”€â”€ plan_manager.py            # Plan ë„ë©”ì¸ ê´€ë¦¬
â”‚       â””â”€â”€ phase_manager.py           # Phase ë„ë©”ì¸ ê´€ë¦¬
â””â”€â”€ enhanced_flow.py                   # ì¤‘ì•™ orchestrator
```

## ğŸš€ ì£¼ìš” ê°œì„ ì‚¬í•­

### 1. Manager íŒ¨í„´ ì ìš©
- **TaskManager**: Task CRUD ë° ìƒíƒœ ê´€ë¦¬ í†µí•©
- **PlanManager**: Plan ìƒëª…ì£¼ê¸° ë° ì§„í–‰ë¥  ê´€ë¦¬
- **PhaseManager**: Phase ì „í™˜ ë° ì™„ë£Œ ì¡°ê±´ í‰ê°€

### 2. EventBus ê¸°ë°˜ ì•„í‚¤í…ì²˜
- ë°œí–‰-êµ¬ë… íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ê°„ ëŠìŠ¨í•œ ê²°í•©
- ì´ë²¤íŠ¸ ì²´ì¸: Task ì™„ë£Œ â†’ Plan ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ â†’ Phase ì „í™˜
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° (ìƒˆ Manager ì¶”ê°€ ìš©ì´)

### 3. ì»¨í…ìŠ¤íŠ¸ ì§€ì†ì„±
- SystemStateë¡œ ì „ì²´ ì‹œìŠ¤í…œ ìƒíƒœ ê´€ë¦¬
- JSON ê¸°ë°˜ ìƒíƒœ ì €ì¥/ë³µì›
- ì‹œìŠ¤í…œ ì¬ì‹œì‘ ì‹œì—ë„ ì´ì „ ìƒíƒœ ìœ ì§€

### 4. EnhancedFlow Orchestrator
- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ì´ˆê¸°í™” ë° ì—°ê²°
- ê³ ìˆ˜ì¤€ API ì œê³µ (í”„ë¡œì íŠ¸ ìƒì„±, Task ê´€ë¦¬ ë“±)
- ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° ì§€ì›

## ğŸ“Š ì„±ê³¼
- âœ… ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì ìš©
- âœ… ì¤‘ë³µ ì½”ë“œ ì œê±°
- âœ… í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í–¥ìƒ
- âœ… í™•ì¥ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ 
- âœ… ìƒíƒœ ì§€ì†ì„± ë³´ì¥

## ğŸ”„ ì´ë²¤íŠ¸ í”Œë¡œìš°
```
TaskManager.complete_task()
    â†“ (TaskCompletedEvent)
EventBus.publish()
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PlanManager     â”‚ PhaseManager     â”‚
â”‚ .on_task_completed â”‚ .on_task_completed â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“                    â†“
Plan ì§„í–‰ë¥  ì—…ë°ì´íŠ¸    Phase ì™„ë£Œ ì²´í¬
    â†“                    â†“
(PlanCompletedEvent)  (PhaseCompletedEvent)
```

## ğŸ”¨ ì‚¬ìš© ì˜ˆì‹œ
```python
# ì‹œìŠ¤í…œ ì´ˆê¸°í™”
flow = EnhancedFlow()

# í”„ë¡œì íŠ¸ ìƒì„±
project = flow.create_project(
    "ì›¹ì‚¬ì´íŠ¸ ë¦¬ë‰´ì–¼",
    phases=[
        {'name': 'ê¸°íš'},
        {'name': 'ê°œë°œ'},
        {'name': 'í…ŒìŠ¤íŠ¸'}
    ]
)

# Task ì¶”ê°€
task = flow.add_task_to_project(
    project['plan'].id,
    "ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ ì‘ì„±"
)

# Task ì™„ë£Œ (ì´ë²¤íŠ¸ ì²´ì¸ ìë™ ì‹¤í–‰)
flow.complete_task(task.id)

# ìƒíƒœ ì €ì¥
flow.save_context()
```

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„
1. ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ í†µí•© í…ŒìŠ¤íŠ¸
2. API ì—”ë“œí¬ì¸íŠ¸ ì—°ê²°
3. UI ì¸í„°í˜ì´ìŠ¤ ì—…ë°ì´íŠ¸
4. ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬
5. ë¬¸ì„œí™” ì™„ë£Œ

---
*ë¦¬íŒ©í† ë§ ì™„ë£Œ: 2025-06-30*
