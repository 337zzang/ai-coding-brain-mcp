# ì›¹ ìë™í™” ì‹œìŠ¤í…œ ì—ëŸ¬ ì²˜ë¦¬ ê°œì„  ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ì›¹ ìë™í™” ì‹œìŠ¤í…œì˜ ì—ëŸ¬ ì²˜ë¦¬ê°€ ê°œì„ ë˜ì–´ ë” ë‚˜ì€ ë””ë²„ê¹…ê³¼ ì•ˆì •ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.
ê¸°ì¡´ APIì™€ 100% í˜¸í™˜ë˜ë¯€ë¡œ ì½”ë“œ ë³€ê²½ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê°œì„ ì‚¬í•­

### 1. êµ¬ì¡°í™”ëœ ì—ëŸ¬ ì²˜ë¦¬
- ëª¨ë“  í•¨ìˆ˜ì— `safe_execute` ë˜í¼ ì ìš©
- ì˜ˆì™¸ ë°œìƒ ì‹œ ì•ˆì „í•œ ì—ëŸ¬ ì‘ë‹µ ë°˜í™˜
- Stack trace ë³´ì¡´ (ë””ë²„ê·¸ ëª¨ë“œ)

### 2. ë¡œê¹… ì‹œìŠ¤í…œ
- JSON í˜•ì‹ì˜ êµ¬ì¡°í™”ëœ ë¡œê·¸
- ë¡œê·¸ íŒŒì¼: `api/logs/web_automation_YYYYMMDD.log`
- ì—ëŸ¬, ê²½ê³ , ì •ë³´ ë ˆë²¨ë³„ ë¡œê¹…

### 3. ë””ë²„ê·¸ ëª¨ë“œ
- í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” ëŸ°íƒ€ì„ ì œì–´ ê°€ëŠ¥
- ìƒì„¸í•œ ì—ëŸ¬ ì •ë³´ ì œê³µ
- ê°œë°œ í™˜ê²½ì—ì„œ ë¬¸ì œ í•´ê²° ìš©ì´

## ğŸ’» ì‚¬ìš© ë°©ë²•

### ê¸°ë³¸ ì‚¬ìš© (ë³€ê²½ ì—†ìŒ)
```python
from api import web_automation_helpers as web

# ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
web.web_start()
result = web.web_goto("https://example.com")
if not result['ok']:
    print(f"ì—ëŸ¬: {result['error']}")
```

### ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™”

#### ë°©ë²• 1: í™˜ê²½ë³€ìˆ˜
```bash
# Windows
set WEB_AUTO_DEBUG=true

# Linux/Mac
export WEB_AUTO_DEBUG=true
```

#### ë°©ë²• 2: ëŸ°íƒ€ì„ ì œì–´
```python
from api import web_automation_errors as errors

# ë””ë²„ê·¸ ëª¨ë“œ ì¼œê¸°
errors.enable_debug_mode()

# ì—ëŸ¬ ë°œìƒ ì‹œ ìƒì„¸ ì •ë³´
result = web.web_click("button")
if not result['ok']:
    print(f"ì—ëŸ¬: {result['error']}")
    if '_debug' in result:
        debug = result['_debug']
        print(f"íƒ€ì…: {debug['error_type']}")
        print(f"ìŠ¤íƒ: {debug['stack_trace']}")

# ë””ë²„ê·¸ ëª¨ë“œ ë„ê¸°
errors.disable_debug_mode()
```

## ğŸ“Š ì‘ë‹µ í˜•ì‹

### ì„±ê³µ ì‘ë‹µ (ë³€ê²½ ì—†ìŒ)
```json
{
    "ok": true,
    "data": "ê²°ê³¼ê°’"
}
```

### ì—ëŸ¬ ì‘ë‹µ (ê¸°ë³¸)
```json
{
    "ok": false,
    "error": "ì—ëŸ¬ ë©”ì‹œì§€"
}
```

### ì—ëŸ¬ ì‘ë‹µ (ë””ë²„ê·¸ ëª¨ë“œ)
```json
{
    "ok": false,
    "error": "ì—ëŸ¬ ë©”ì‹œì§€",
    "_debug": {
        "error_type": "ValueError",
        "stack_trace": "...",
        "context": {
            "function": "web_click",
            "args": ["button"],
            "execution_time": 0.123
        },
        "timestamp": "2025-08-02T12:00:00"
    }
}
```

## ğŸ” ë¡œê·¸ íŒŒì¼ ë¶„ì„

ë¡œê·¸ íŒŒì¼ì€ JSON Lines í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤:

```json
{"timestamp": "2025-08-02T12:00:00", "level": "ERROR", "function": "web_click", "message": "..."}
{"timestamp": "2025-08-02T12:00:01", "level": "INFO", "function": "web_goto", "message": "..."}
```

ë¶„ì„ ë„êµ¬ë¡œ ì‰½ê²Œ í•„í„°ë§ ê°€ëŠ¥:
```python
import json

# ì—ëŸ¬ë§Œ í•„í„°ë§
with open('logs/web_automation_20250802.log', 'r') as f:
    for line in f:
        log = json.loads(line)
        if log['level'] == 'ERROR':
            print(log)
```

## âš¡ ì„±ëŠ¥ ì˜í–¥

- ë””ë²„ê·¸ ëª¨ë“œ OFF: ì„±ëŠ¥ ì˜í–¥ ìµœì†Œ (<1ms)
- ë””ë²„ê·¸ ëª¨ë“œ ON: ì•½ê°„ì˜ ì˜¤ë²„í—¤ë“œ (Stack trace ìˆ˜ì§‘)
- ë¡œê¹…: ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì˜í–¥ ìµœì†Œí™”

## ğŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### ì‹ ê·œ í”„ë¡œì íŠ¸
- ë³€ê²½ ì—†ì´ ì‚¬ìš© ê°€ëŠ¥
- í•„ìš”ì‹œ ë””ë²„ê·¸ ëª¨ë“œ í™œìš©

### ê¸°ì¡´ í”„ë¡œì íŠ¸
1. ì½”ë“œ ë³€ê²½ ë¶ˆí•„ìš”
2. ì—ëŸ¬ ì²˜ë¦¬ ê°œì„  ìë™ ì ìš©
3. ë””ë²„ê·¸ê°€ í•„ìš”í•œ ê²½ìš°ë§Œ ëª¨ë“œ í™œì„±í™”

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ë¡œê·¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
- ìœ„ì¹˜ í™•ì¸: `api/logs/` í´ë”
- ê¶Œí•œ í™•ì¸: ì“°ê¸° ê¶Œí•œ í•„ìš”

### ë””ë²„ê·¸ ì •ë³´ê°€ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
- í™˜ê²½ë³€ìˆ˜ í™•ì¸: `echo %WEB_AUTO_DEBUG%`
- ëŸ°íƒ€ì„ ìƒíƒœ í™•ì¸: `errors.get_debug_status()`

### ì„±ëŠ¥ ì €í•˜
- í”„ë¡œë•ì…˜ì—ì„œëŠ” ë””ë²„ê·¸ ëª¨ë“œ OFF
- ë¡œê·¸ ë ˆë²¨ ì¡°ì • ê³ ë ¤

## ğŸ“š ì°¸ê³  ìë£Œ

- ì†ŒìŠ¤ ì½”ë“œ: `web_automation_errors.py`
- í…ŒìŠ¤íŠ¸ ì½”ë“œ: `test_error_handling.py`
- ë¡œê·¸ ìœ„ì¹˜: `api/logs/`
