# 워크플로우 시스템 개선 계획

## 📋 작업 제목: 워크플로우 시스템 v2.0 구현

### 🔍 현재 상태 분석
- **대상 모듈**: `python/session_workflow.py`, `memory/workflow.json`
- **주요 문제점**:
  1. Task 정보 부족 (시간, 결과, 산출물 추적 없음)
  2. 이벤트/히스토리 구조 불명확
  3. 작업 결과물 추적 기능 없음
  4. 검색 및 분석 기능 부재

### 🛠️ 단계별 구현 계획

#### Phase 1: 데이터 구조 개선 (우선순위: 높음)
1. **Task 스키마 확장**
   ```python
   {
     "id": 1,
     "name": "태스크명",
     "status": "todo|doing|done|blocked",
     "createdAt": "ISO 시간",
     "startedAt": "ISO 시간",
     "completedAt": "ISO 시간", 
     "duration": 120,  # 분 단위
     "summary": "완료 요약",
     "artifacts": [
       {"type": "file", "path": "docs/report.md"},
       {"type": "commit", "hash": "abc123", "message": "feat: 기능 추가"}
     ],
     "tags": ["backend", "api"],
     "dependencies": [2, 3]  # 선행 task id
   }
   ```

2. **통합 이벤트 시스템**
   - events와 history를 하나로 통합
   - 구조화된 이벤트 스키마 적용

#### Phase 2: 핵심 기능 구현
1. **자동 추적 기능**
   - 작업 시작/완료 시간 자동 기록
   - Git 커밋 자동 연결
   - 생성/수정 파일 자동 추적

2. **결과 요약 시스템**
   - 작업 완료 시 요약 입력 프롬프트
   - 산출물 자동 수집 및 링크

3. **검색/분석 기능**
   - 태그 기반 검색
   - 기간별 작업 통계
   - 의존성 시각화

#### Phase 3: 마이그레이션 및 호환성
1. **기존 데이터 마이그레이션**
   - v1.0 → v2.0 변환 스크립트
   - 백업 자동 생성

2. **점진적 적용**
   - 기존 인터페이스 유지
   - 새 기능은 옵션으로 추가

### 📊 예상 결과
- 작업 추적 정확도 향상
- 프로젝트 히스토리 완전 보존
- 결과물 검색 가능
- 보고서 자동 생성 가능

### ⚠️ 위험 요소
- 기존 워크플로우 중단 가능성 → 백업 필수
- 데이터 크기 증가 → 압축/아카이빙 전략 필요

### ❓ 확인 필요 사항
1. 이 구조가 요구사항을 충족하나요?
2. 우선순위가 맞나요? 
3. 추가로 필요한 기능이 있나요?

**✅ 이 계획대로 진행해도 될까요?**
