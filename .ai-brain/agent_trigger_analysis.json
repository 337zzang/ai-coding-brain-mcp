{
  "문제_상황": {
    "요청": "에이전트를 통해서 해당 계획에 대해 세부분석",
    "기대": "code-analyzer 자동 호출",
    "실제": "수동으로 Task 도구를 사용해 호출함",
    "Plan_Mode": "활성화 상태였음"
  },
  "원인_분석": {
    "1_Plan_Mode_제약": {
      "설명": "Plan Mode는 시스템 변경을 금지하는 읽기 전용 모드",
      "영향": "에이전트는 Task 도구로 호출되는데, Plan Mode가 이를 제한할 수 있음",
      "근거": "Plan mode is active... you MUST NOT make any edits"
    },
    "2_키워드_트리거_부재": {
      "설명": "자동 트리거 키워드가 명확하지 않았음",
      "필요_키워드": [
        "analyze",
        "분석",
        "검토",
        "review"
      ],
      "실제_요청": "세부분석",
      "매칭": "세부분석이 트리거 키워드로 등록되지 않았을 가능성"
    },
    "3_컨텍스트_해석": {
      "설명": "Claude가 요청을 직접 수행하려 했음",
      "이유": "Plan Mode에서 안전한 Read 도구만 사용하려 함",
      "결과": "에이전트 대신 직접 파일을 읽고 분석"
    },
    "4_명시적_요청_부족": {
      "설명": "에이전트 사용을 명시적으로 요청하지 않음",
      "더_명확한_요청": "code-analyzer 에이전트로 분석해줘",
      "현재_요청": "에이전트를 통해서"
    }
  },
  "해결_방안": {
    "1_명시적_에이전트_지정": {
      "예시": "code-analyzer 에이전트를 사용해서 분석해줘",
      "효과": "특정 에이전트 강제 호출"
    },
    "2_Plan_Mode_해제": {
      "방법": "ExitPlanMode 후 에이전트 호출",
      "효과": "제약 없이 에이전트 사용 가능"
    },
    "3_트리거_키워드_활용": {
      "추천": "analyze this code deeply",
      "한글": "코드를 심층 분석해줘",
      "효과": "자동 트리거 활성화"
    },
    "4_병렬_에이전트_요청": {
      "예시": "planning-specialist와 code-analyzer로 동시에 분석",
      "효과": "여러 에이전트 병렬 실행"
    }
  },
  "에이전트_트리거_매핑": {
    "planning-specialist": [
      "plan",
      "계획",
      "설계",
      "architecture"
    ],
    "code-analyzer": [
      "analyze",
      "분석",
      "review",
      "검토",
      "bugs"
    ],
    "code-optimizer": [
      "optimize",
      "최적화",
      "improve",
      "개선"
    ],
    "test-runner": [
      "test",
      "테스트",
      "run tests",
      "검증"
    ]
  },
  "권장_사용_패턴": {
    "일반_모드": {
      "자동_호출": "키워드 기반 자동 트리거",
      "병렬_실행": "복잡한 작업 시 자동 병렬화"
    },
    "Plan_Mode": {
      "제한사항": "시스템 변경 불가",
      "권장": "Plan Mode 종료 후 에이전트 사용",
      "대안": "명시적 Task 도구 호출"
    }
  }
}