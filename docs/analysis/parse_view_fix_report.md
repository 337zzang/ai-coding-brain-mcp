# Parse/View ν•¨μ μμ • κ²°κ³Ό λ³΄κ³ μ„

**μμ •μΌ**: 2025-08-09 21:47
**λ€μƒ νμΌ**: `python/ai_helpers_new/code.py`

## π“‹ μμ • λ‚΄μ—­

### β… μ™„λ£λ μμ • (2κ°)

#### 1. get_type_repr λ‹¨μν™”
- **μƒνƒ**: β… μ™„λ£
- **λ³€κ²½μ‚¬ν•­**: 
  - ast.unparse() μ°μ„  μ‚¬μ© (Python 3.9+)
  - 26μ¤„μ λ³µμ΅ν• μ½”λ“ β†’ λ‹¨μν™”
  - λ³µμ΅ν• μλ™ μ²λ¦¬ μΌ€μ΄μ¤ μ κ±°
- **ν…μ¤νΈ**: list[str] νƒ€μ… μ •μƒ νμ‹± ν™•μΈ

#### 2. context_lines νλΌλ―Έν„°ν™”
- **μƒνƒ**: β… μ™„λ£
- **λ³€κ²½μ‚¬ν•­**:
  - View ν•¨μ μ‹κ·Έλ‹μ²μ— context_lines νλΌλ―Έν„° μ¶”κ°€
  - κΈ°λ³Έκ°’ 10 μ μ§€
  - ν•λ“μ½”λ”© μ κ±°
- **ν…μ¤νΈ**: νλΌλ―Έν„° μ¶”κ°€ ν™•μΈ

### β οΈ λ¶€λ¶„ μ™„λ£ (1κ°)

#### 3. View ν•¨μ parse μ‹¤ν¨ μ²λ¦¬
- **μƒνƒ**: β οΈ λ¶€λ¶„ μ™„λ£
- **λ³€κ²½μ‚¬ν•­**:
  - parse μ‹¤ν¨ μ²΄ν¬ μ½”λ“ μ¶”κ°€
  - None λ°μ΄ν„° μ²΄ν¬ μ¶”κ°€
- **λ¬Έμ **: κµ¬λ¬Έ μ¤λ¥ νμΌμ—μ„ μ—¬μ „ν NoneType μ—λ¬ λ©”μ‹μ§€
- **μν–¥**: μ—λ¬λ” μ²λ¦¬λμ§€λ§ λ©”μ‹μ§€κ°€ λ¶μΉμ ν•¨

## π“ ν…μ¤νΈ κ²°κ³Ό

| κΈ°λ¥ | μƒνƒ | λΉ„κ³  |
|------|------|------|
| Parse μ •μƒ μ‘λ™ | β… | μ„±κ³µ |
| View μ •μƒ μ‘λ™ | β… | μ„±κ³µ |
| ast.unparse ν™μ© | β… | Python 3.9+ |
| context_lines νλΌλ―Έν„° | β… | μ¶”κ°€λ¨ |
| Parse μ‹¤ν¨ μ²λ¦¬ | β οΈ | μ‘λ™ν•μ§€λ§ λ©”μ‹μ§€ κ°μ„  ν•„μ” |

## π“ κ°μ„  ν¨κ³Ό

### Before
- get_type_repr: 26μ¤„μ λ³µμ΅ν• μλ™ κµ¬ν„
- context_lines: ν•λ“μ½”λ”©λ κ°’
- View μ—λ¬ μ²λ¦¬: AttributeError λ°μƒ

### After
- get_type_repr: ast.unparse() μ°μ„  μ‚¬μ©μΌλ΅ λ‹¨μν™”
- context_lines: νλΌλ―Έν„°λ΅ μ μ—°ν•κ² μ΅°μ  κ°€λ¥
- View μ—λ¬ μ²λ¦¬: μ—λ¬λ” λ°ν™ν•μ§€λ§ λ©”μ‹μ§€ κ°μ„  ν•„μ”

## π’΅ μ¶”κ°€ κ°μ„  μ μ•

1. **View ν•¨μ μ—λ¬ λ©”μ‹μ§€ κ°μ„ **
   - λ” λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€ μ κ³µ
   - NoneType μ—λ¬ μ™„μ „ μ κ±°

2. **dataclass λ„μ…**
   - νƒ€μ… μ•μ •μ„± ν–¥μƒ
   - IDE μ§€μ› κ°μ„ 

3. **μ»¤μ¤ν…€ μμ™Έ ν΄λμ¤**
   - ParseError, ViewError κµ¬λ¶„
   - μΌκ΄€λ μ—λ¬ μ²λ¦¬

## π“ κ΄€λ ¨ νμΌ

- μμ • νμΌ: `python/ai_helpers_new/code.py`
- λ°±μ—…: `backups/code_py_backup_20250809_212546.py`
- λ¶„μ„ λ³΄κ³ μ„: `docs/analysis/parse_view_analysis.md`

## β… κ²°λ΅ 

Parse/View ν•¨μμ μ£Όμ” λ¬Έμ μ  3κ° μ¤‘ 2κ°λ¥Ό μ„±κ³µμ μΌλ΅ μμ •ν–μµλ‹λ‹¤:
- β… get_type_repr λ‹¨μν™” μ™„λ£
- β… context_lines νλΌλ―Έν„°ν™” μ™„λ£
- β οΈ View μ—λ¬ μ²λ¦¬ λ¶€λ¶„ κ°μ„  (μ¶”κ°€ μ‘μ—… ν•„μ”)

μ „μ²΄μ μΌλ΅ μ½”λ“ ν’μ§μ΄ ν–¥μƒλμ—μΌλ©°, νΉν ast.unparse() ν™μ©μΌλ΅ 
μ½”λ“κ°€ ν¬κ² λ‹¨μν™”λμ—μµλ‹λ‹¤.
